@using Microsoft.AspNetCore.Identity
@using ShppaingPart.Models

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "صفحه اصلی";
}
@if (SignInManager.IsSignedIn(User) && User.Identity.IsAuthenticated && User.IsInRole("Admin"))
{
    <div class="first-row row col-md-offset-3 col-lg-offset-4">
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/UserInfo">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت کاربران
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/Reports">
                <div class="panel panel-default">
                    <div class="panel-body">
                        گزارشات(بزودی)
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="/Info/BIReport">
                <div class="panel panel-default">
                    <div class="panel-body">
                        گزارشات BI
                    </div>
                </div>
            </a>
        </div>
    </div>
    <div class="row col-md-offset-3 col-lg-offset-4">
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/TransactionProductTypes">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت محصولات
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/MLMPlans">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت هدیه ها
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/Survey">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت نظرسنجی
                    </div>
                </div>
            </a>
        </div>
    </div>
    <div class="row col-md-offset-3 col-lg-offset-4">
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/Transactions">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت تراکنش ها
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/News">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت اخبار
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/Advertisings">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت آگهی ها
                    </div>
                </div>
            </a>
        </div>
    </div>
    <div class="row col-md-offset-3 col-lg-offset-4">
        <div class="col-xs-4 col-lg-2 col-md-3">
            <a href="https://hampisheh.com:53992/WalletRequestCredits">
                <div class="panel panel-default">
                    <div class="panel-body">
                        مدیریت کیف اعتبار
                    </div>
                </div>
            </a>
        </div>
    </div>
}
@if (ViewBag.CompaniesList != null && ViewBag.CompaniesList.Rows.Count > 0)
{
    <div class="first-row row div-center">
        @for (int i = 0; i < ViewBag.CompaniesList.Rows.Count; i++)
        {
            <a class="btn btn-default btn-circle btn-xl CompaniesList" data-id="@(ViewBag.CompaniesList.Rows[i]["PartnerCompaniesId"].ToString())">@ViewBag.CompaniesList.Rows[i]["Name"].ToString()</a>
        }
    </div>
}

<div class="first-row row col-md-offset-3 col-lg-offset-4">
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/Academy">
            <div class="panel panel-default">
                <div class="panel-body">
                    آکادمی همپیشه
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/Product">
            <div class="panel panel-default">
                <div class="panel-body">
                    محصولات
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/IncomeGeneration">
            <div class="panel panel-default">
                <div class="panel-body">
                    برنامه درآمدزایی
                </div>
            </div>
        </a>
    </div>
</div>
<div class="row  col-md-offset-3 col-lg-offset-4">
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/News">
            <div class="panel panel-default">
                <div class="panel-body">
                    اخبار همپیشه
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/BIReport">
            <div class="panel panel-default">
                <div class="panel-body">
                    گزارشات BI
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Wallet/Index">
            <div class="panel panel-default">
                <div class="panel-body">
                    کیف اعتبار
                </div>
            </div>
        </a>
    </div>
</div>
<div class="row  col-md-offset-3 col-lg-offset-4">
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/Advertising">
            <div class="panel panel-default">
                <div class="panel-body">
                    آگهی ها
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Surveys/Index">
            <div class="panel panel-default">
                <div class="panel-body">
                    کمپین نظرسنجی
                </div>
            </div>
        </a>
    </div>
</div>
@*<div class="row  col-md-offset-3 col-lg-offset-4">
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/CommingSoon">
            <div class="panel panel-default">
                <div class="panel-body">
                    سرگرمی و بازی(بزودی)
                </div>
            </div>
        </a>
    </div>

    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/CommingSoon">
            <div class="panel panel-default">
                <div class="panel-body">
                    نشان پرداخت(بزودی)
                </div>
            </div>
        </a>
    </div>
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/MakeIncomePlan">
            <div class="panel panel-default">
                <div class="panel-body">
                    تهیه برنامه درآمدی
                </div>
            </div>
        </a>
    </div>
</div>*@
@*<div class="row  col-md-offset-3 col-lg-offset-4">
    <div class="col-xs-4 col-lg-2 col-md-3">
        <a href="/Info/CommingSoon">
            <div class="panel panel-default">
                <div class="panel-body">
                    شرکت های همکار(بزودی)
                </div>
            </div>
        </a>
    </div>
</div>*@
@section Scripts{
    <script type="text/javascript">
        $('.CompaniesList').on('click', function () {
            var id = $(this).data('id');
            $.post('/Info/CompanyDetails', { id: id }, function (data, status) {
                $('#modalShower').trigger('click');
                $('#CompanyModalShowerLabel').html('اطلاعات شرکت ' + data.name);
                var dataDesc = data.desc;
                dataDesc += data.aparatLink;
                $('#CompanyDesc').html(dataDesc);
            });
        });
    </script>
    <!-- Button trigger modal -->
    <button type="button" id="modalShower" class="btn btn-primary" data-toggle="modal" style="display:none" data-target="#CompanyModalShower">
        Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="CompanyModalShower" tabindex="-1" role="dialog" aria-labelledby="CompanyModalShowerLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="CompanyModalShowerLabel">اطلاعات شرکت</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <label id="CompanyDesc"></label>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
}